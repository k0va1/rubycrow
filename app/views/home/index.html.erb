<%# ===== HERO SECTION ===== %>
<section class="min-h-screen flex flex-col items-center justify-center px-6 py-24 relative overflow-hidden hero-spotlight">
  <div class="relative z-10 text-center max-w-2xl mx-auto">
    <div class="mb-10 stagger-1">
      <%= image_tag "rubycrow.png", alt: "RubyCrow", class: "w-28 h-28 mx-auto hero-logo rounded-2xl" %>
    </div>

    <h1 class="font-display text-6xl sm:text-8xl tracking-tight mb-6 stagger-2 text-crow-cream">
      RubyCrow
    </h1>

    <p class="text-xl sm:text-2xl text-crow-sand-dim mb-12 max-w-md mx-auto leading-relaxed font-body font-light stagger-3">
      A community-powered article feed for Ruby &amp; Rails developers. Fresh posts from the best blogs, delivered&nbsp;weekly.
    </p>

    <div class="stagger-4">
      <%= render "subscribers/form", form_id: "subscribe-form-hero" %>
    </div>

    <% if @subscriber_count > 0 %>
      <p class="mt-8 text-sm text-crow-sand-dim tracking-wide stagger-5">
        <span class="text-gold font-medium" data-controller="subscriber-count" data-subscriber-count-goal-value="<%= @subscriber_count %>">0</span>
        developers in the flock
      </p>
    <% end %>
  </div>

  <div class="absolute bottom-10 left-1/2 -translate-x-1/2 stagger-5">
    <div class="w-px h-12 bg-gradient-to-b from-transparent via-gold/20 to-gold/40"></div>
  </div>
</section>

<%# ===== EDITORIAL DIVIDER ===== %>
<div class="divider-gold divider-animated max-w-xs mx-auto"></div>

<%# ===== WHAT IS RUBYCROW? ===== %>
<section class="py-28 px-6" data-controller="scroll-reveal">
  <div class="max-w-5xl mx-auto">
    <div class="text-center mb-20" data-reveal>
      <span class="font-body text-[0.65rem] font-semibold tracking-[0.2em] uppercase text-gold-dim">The Newsletter</span>
      <h2 class="font-display text-4xl sm:text-5xl text-crow-cream mt-3 mb-5">
        What you'll find inside
      </h2>
      <p class="text-crow-sand-dim text-xl max-w-lg mx-auto leading-relaxed font-light">
        Every week, we scour the Ruby ecosystem so you don't have to. Three sections, zero filler.
      </p>
    </div>

    <div class="grid md:grid-cols-3 gap-5">
      <div class="editorial-card rounded-xl p-7 relative overflow-hidden" data-reveal>
        <div class="relative z-10">
          <div class="flex items-start justify-between mb-6">
            <div class="w-10 h-10 rounded-lg bg-ruby/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
              </svg>
            </div>
            <span class="step-number font-display text-7xl leading-none text-gold/10 transition-colors duration-500">I</span>
          </div>
          <h3 class="font-display text-2xl text-crow-cream mb-2">Crow's Pick</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">The single most impactful article of the week — the one you can't afford to miss.</p>
        </div>
      </div>

      <div class="editorial-card rounded-xl p-7 relative overflow-hidden" data-reveal>
        <div class="relative z-10">
          <div class="flex items-start justify-between mb-6">
            <div class="w-10 h-10 rounded-lg bg-gold/5 flex items-center justify-center">
              <svg class="w-5 h-5 text-gold-dim" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
              </svg>
            </div>
            <span class="step-number font-display text-7xl leading-none text-gold/10 transition-colors duration-500">II</span>
          </div>
          <h3 class="font-display text-2xl text-crow-cream mb-2">Shiny Objects</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">New gems, tools, and libraries that caught our eye. Evaluated so you can decide what's worth adopting.</p>
        </div>
      </div>

      <div class="editorial-card rounded-xl p-7 relative overflow-hidden" data-reveal>
        <div class="relative z-10">
          <div class="flex items-start justify-between mb-6">
            <div class="w-10 h-10 rounded-lg bg-ruby/10 flex items-center justify-center">
              <svg class="w-5 h-5 text-ruby" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"/>
              </svg>
            </div>
            <span class="step-number font-display text-7xl leading-none text-gold/10 transition-colors duration-500">III</span>
          </div>
          <h3 class="font-display text-2xl text-crow-cream mb-2">Crow Call</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">Community voices, hot takes, and conversations worth joining. The pulse of Ruby.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<%# ===== EDITORIAL DIVIDER ===== %>
<div class="divider-gold max-w-xs mx-auto"></div>

<%# ===== LIVE FEED ===== %>
<section class="py-28 px-6" data-controller="scroll-reveal live-feed">
  <div class="max-w-3xl mx-auto">
    <div class="text-center mb-16" data-reveal>
      <span class="font-body text-[0.65rem] font-semibold tracking-[0.2em] uppercase text-gold-dim">Fresh From the Flock</span>
      <h2 class="font-display text-4xl sm:text-5xl text-crow-cream mt-3 mb-5">
        Live feed
      </h2>
      <p class="text-crow-sand-dim text-xl max-w-lg mx-auto leading-relaxed font-light">
        The latest articles from Ruby &amp; Rails blogs the crow watches.
      </p>
    </div>

    <div data-reveal>
      <%= turbo_frame_tag "live-feed", src: articles_path, loading: :lazy do %>
        <div class="text-center py-12">
          <div class="inline-flex items-center gap-3">
            <svg class="w-5 h-5 text-gold/40 animate-spin" fill="none" viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"></path>
            </svg>
            <span class="text-crow-sand-dim text-sm font-light">Loading articles...</span>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</section>

<%# ===== EDITORIAL DIVIDER ===== %>
<div class="divider-gold max-w-xs mx-auto"></div>

<%# ===== HOW IT WORKS ===== %>
<section class="py-28 px-6" data-controller="scroll-reveal">
  <div class="max-w-3xl mx-auto">
    <div class="text-center mb-20" data-reveal>
      <span class="font-body text-[0.65rem] font-semibold tracking-[0.2em] uppercase text-gold-dim">The Process</span>
      <h2 class="font-display text-4xl sm:text-5xl text-crow-cream mt-3">How it works</h2>
    </div>

    <div class="space-y-16">
      <div class="flex items-start gap-8" data-reveal>
        <div class="flex-shrink-0 w-14 h-14 rounded-full border border-gold/10 flex items-center justify-center">
          <span class="font-display text-2xl text-gold/40">1</span>
        </div>
        <div class="pt-2">
          <h3 class="font-display text-2xl text-crow-cream mb-2">Add your blog</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">Submit your Ruby or Rails blog via a simple pull request to our open registry on GitHub. Add your name, URL, and RSS feed.</p>
        </div>
      </div>

      <div class="flex items-start gap-8" data-reveal>
        <div class="flex-shrink-0 w-14 h-14 rounded-full border border-gold/10 flex items-center justify-center">
          <span class="font-display text-2xl text-gold/40">2</span>
        </div>
        <div class="pt-2">
          <h3 class="font-display text-2xl text-crow-cream mb-2">The crow watches</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">We automatically sync your RSS feed every few hours, collecting new articles as they appear. No manual submission needed after setup.</p>
        </div>
      </div>

      <div class="flex items-start gap-8" data-reveal>
        <div class="flex-shrink-0 w-14 h-14 rounded-full border border-gold/10 flex items-center justify-center">
          <span class="font-display text-2xl text-gold/40">3</span>
        </div>
        <div class="pt-2">
          <h3 class="font-display text-2xl text-crow-cream mb-2">Get discovered</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">Your best posts get curated into our weekly newsletter, reaching developers who care about quality Ruby content.</p>
        </div>
      </div>

      <div class="flex items-start gap-8" data-reveal>
        <div class="flex-shrink-0 w-14 h-14 rounded-full border border-gold/10 flex items-center justify-center">
          <span class="font-display text-2xl text-gold/40">4</span>
        </div>
        <div class="pt-2">
          <h3 class="font-display text-2xl text-crow-cream mb-2">The flock reads</h3>
          <p class="text-crow-sand-dim text-base leading-relaxed font-light">A concise, beautifully formatted newsletter lands in your inbox. No spam, no fluff, no tracking pixels. Ever.</p>
        </div>
      </div>
    </div>

    <div class="text-center mt-20" data-reveal>
      <a href="https://github.com/k0va1/rubycrow" target="_blank" rel="noopener"
         class="inline-flex items-center gap-2.5 px-6 py-3 rounded-lg border border-gold/15 text-crow-sand text-base font-body tracking-wide hover:border-gold/30 hover:text-crow-cream transition-all duration-300">
        <svg class="w-4 h-4 text-gold/50" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
        Add Your Blog &rarr;
      </a>
    </div>
  </div>
</section>

<%# ===== EDITORIAL DIVIDER ===== %>
<div class="divider-gold max-w-xs mx-auto"></div>

<%# ===== STATS BAR ===== %>
<section class="py-20 px-6" data-controller="scroll-reveal">
  <div class="max-w-3xl mx-auto">
    <div class="grid grid-cols-3 gap-8 text-center" data-reveal>
      <div>
        <span class="font-display text-4xl sm:text-5xl text-crow-cream"
              data-controller="counter-animation"
              data-counter-animation-goal-value="<%= @blog_count %>">0</span>
        <p class="text-sm text-crow-sand-dim mt-2 tracking-wide font-light">Blogs Watched</p>
      </div>
      <div>
        <span class="font-display text-4xl sm:text-5xl text-crow-cream"
              data-controller="counter-animation"
              data-counter-animation-goal-value="<%= @article_count %>">0</span>
        <p class="text-sm text-crow-sand-dim mt-2 tracking-wide font-light">Articles Collected</p>
      </div>
      <div>
        <span class="font-display text-4xl sm:text-5xl text-crow-cream"
              data-controller="counter-animation"
              data-counter-animation-goal-value="<%= @subscriber_count %>">0</span>
        <p class="text-sm text-crow-sand-dim mt-2 tracking-wide font-light">Subscribers</p>
      </div>
    </div>
  </div>
</section>

<%# ===== EDITORIAL DIVIDER ===== %>
<div class="divider-gold max-w-xs mx-auto"></div>

<%# ===== FOR AUTHORS ===== %>
<section class="py-28 px-6" data-controller="scroll-reveal">
  <div class="max-w-xl mx-auto text-center" data-reveal>
    <span class="font-body text-[0.65rem] font-semibold tracking-[0.2em] uppercase text-gold-dim">Contribute</span>
    <h2 class="font-display text-4xl sm:text-5xl text-crow-cream mt-3 mb-5">For authors</h2>
    <p class="text-crow-sand-dim text-xl leading-relaxed font-light mb-10">
      Join <%= @blog_count %> blogs already in the registry. Submit a pull request to add your blog's RSS feed, and the crow will handle the rest. Your articles appear in our live feed and get considered for the weekly newsletter.
    </p>
    <a href="https://github.com/k0va1/rubycrow" target="_blank" rel="noopener"
       class="inline-flex items-center gap-2.5 px-6 py-3 rounded-lg border border-gold/15 text-crow-sand text-base font-body tracking-wide hover:border-gold/30 hover:text-crow-cream transition-all duration-300">
      <svg class="w-4 h-4 text-gold/50" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      Submit via GitHub PR
    </a>
  </div>
</section>

<%# ===== FOOTER ===== %>
<footer class="pt-20 pb-16 px-6">
  <div class="divider-gold max-w-xs mx-auto mb-20"></div>

  <div class="max-w-lg mx-auto text-center">
    <h2 class="font-display text-3xl sm:text-4xl text-crow-cream mb-3">Don't miss an issue</h2>
    <p class="text-crow-sand-dim text-lg mb-10 font-light">The next edition is already being written.</p>

    <%= render "subscribers/form", form_id: "subscribe-form-footer" %>

    <div class="mt-16 flex items-center justify-center gap-8">
      <a href="https://x.com/k0va1_" target="_blank" rel="noopener" class="text-crow-sand/30 transition-all duration-300 hover:text-gold hover:-translate-y-0.5" aria-label="Twitter/X">
        <svg class="w-[18px] h-[18px]" fill="currentColor" viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
      </a>
      <a href="https://github.com/k0va1/rubycrow" target="_blank" rel="noopener" class="text-crow-sand/30 transition-all duration-300 hover:text-gold hover:-translate-y-0.5" aria-label="GitHub">
        <svg class="w-[18px] h-[18px]" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
      </a>
      <a href="/feed.xml" class="text-crow-sand/30 transition-all duration-300 hover:text-gold hover:-translate-y-0.5" aria-label="RSS Feed">
        <svg class="w-[18px] h-[18px]" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 5c7.18 0 13 5.82 13 13M6 11a7 7 0 017 7m-6 0a1 1 0 11-2 0 1 1 0 012 0z"/></svg>
      </a>
    </div>

    <p class="mt-14 text-xs text-crow-sand-dim/40 tracking-wider font-light">Built with ❤️ by <a href="https://x.com/k0va1_" class="underline hover:text-crow-sand-dim/60 transition-colors">Alex</a></p>
  </div>
</footer>

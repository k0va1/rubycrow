<% form_id = local_assigns[:form_id] || "subscribe-form" %>

<div id="<%= form_id %>">
  <%= form_with url: subscribers_path, method: :post, class: "flex flex-col sm:flex-row gap-3 justify-center items-center max-w-lg mx-auto" do |f| %>
    <%= hidden_field_tag :form_id, form_id %>

    <div class="w-full flex-1">
      <input
        type="email"
        name="email"
        placeholder="your@email.com"
        required
        class="
          w-full rounded-lg border border-gold/12 bg-white/[0.03] px-5 py-3.5 font-body text-base tracking-wide
          text-crow-cream transition-all duration-300 placeholder:text-crow-sand/30 placeholder:italic
          focus:border-gold/35 focus:bg-white/[0.05] focus:shadow-[0_0_0_3px_rgba(201,168,76,0.06)]
          focus:outline-none
        "
      />
    </div>

    <button
      type="submit"
      class="
        subscribe-btn relative z-10 cursor-pointer rounded-lg px-7 py-3.5 font-body text-base font-medium
        tracking-wide whitespace-nowrap text-white
      "
    >
      Join the Flock
    </button>
  <% end %>

  <% if local_assigns[:error] %>
    <p class="mt-3 font-body text-sm text-ruby-light"><%= error %></p>
  <% end %>
</div>
